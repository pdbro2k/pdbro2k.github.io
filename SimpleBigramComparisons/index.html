<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta charset="UTF-8"/>
  <meta name="author" content="Patrick D. Brookshire"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <title>Visualize Common Bigrams</title>
</head>

<body>
  <main id="content">
    <h1>Visualize Common Bigrams</h1>
    <p>The simplest way to visualize common bigrams from pair-wise comparisons is to use a cross table like the following that is built by the script resources/js/buildCrossTable. This table is somewhat interactive as it shows the original phrases (i.e. the value of <code>text</code> from each node) that are compared by hovering over the left or top header row and a sorted array of common bigrams by hovering over the individual cells that contain percentages.<p>
	<div id="crosstableWrapper"></div>

    <p>However, you could also use <a href="https://d3js.org/">D3</a> to build a graph like the following by using one custom script (resources/js/buildBigramLinks.js) to create links between the phrase nodes and another one (resources/js/initD3Graph.js) as a renderer. This renderer makes the graph interactive by letting you drag and drop nodes as well as allowing you to zoom in and out with your mouse wheel and to highlight all links after clicking on a node. It also controls the link width by reading the value of <code>strength</code> from each link element that is generated by the builder script so that a higher number of common bigrams leads to a thicker link.</p>
    <div id="viewport">
		<div class="controls">
			<div class="cb-toggler">
				<input type="checkbox" id="labelToggler" checked="checked"></input>
				<label for="labelToggler">Toggle Phrases</label>
			</div>
		</div>
	</div>
    <noscript>
      <div class="alert alert-danger">This functionality requires Javascript to be enabled in your Browser!</div>
    </noscript>

    <!-- basic JS resources -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>
    <script type="text/javascript" src="resources/js/arrayUtils.js"></script>

    <!-- additional JS scripts -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.4.4/d3.min.js"></script>
    <script type="text/javascript" src="resources/js/initD3Graph.js"></script>

    <script type="text/javascript" src="resources/js/buildBigramLinks.js"></script>
    <script type="text/javascript" src="resources/js/buildCrossTable.js"></script>

    <script type="text/javascript" src="data/easterNodes.js"></script>
    <script type="text/javascript">
$("#crosstableWrapper").append(buildTable(nodes, "crosstable"));
initD3Graph("#viewport", nodes, buildBigramLinks(nodes), {}, true, -1500);
    </script>

    <script type="text/javascript">
// init label toggler
function toggleLabels() {
	if ($("#labelToggler").is(':checked'))
		$("g text").show();
	else
		$("g text").hide();
}
$("#labelToggler").change(function() {
	toggleLabels();
});
toggleLabels();
	</script>
  </main>
</body>

</html>
